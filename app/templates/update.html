{% extends 'base.html' %}

{% block title %}XPRIN - Editar Producto{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <h1 class="text-3xl font-bold mb-6 flex items-center">
        <i class="fas fa-edit text-xprin mr-3"></i>
        Editar Producto
    </h1>
    
    <!-- Info del producto -->
    <div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4">
        <strong>ID:</strong> {{ producto._id }}
    </div>
    
    <div class="bg-white rounded-lg shadow p-6">
        <form method="POST">
            {{ form.hidden_tag() }}
            
            <!-- Nombre -->
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold mb-2">
                    {{ form.nombre.label.text }}
                </label>
                {{ form.nombre(class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-xprin") }}
                {% for error in form.nombre.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                {% endfor %}
            </div>
            
            <!-- Categoría y Subcategoría en fila -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                        {{ form.categoria.label.text }}
                    </label>
                    {{ form.categoria(class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-xprin") }}
                    {% for error in form.categoria.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                    {% endfor %}
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                        {{ form.subcategoria.label.text }}
                    </label>
                    {{ form.subcategoria(class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-xprin") }}
                    {% for error in form.subcategoria.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Marca -->
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold mb-2">
                    {{ form.marca.label.text }}
                </label>
                {{ form.marca(class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-xprin") }}
                {% for error in form.marca.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                {% endfor %}
            </div>
            
            <!-- Descripción -->
            <div class="mb-4">
                <label class="block text-gray-700 font-semibold mb-2">
                    {{ form.descripcion.label.text }}
                </label>
                {{ form.descripcion(class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-xprin", rows="3") }}
            </div>
            
            <!-- Precio y Stock en fila -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                        {{ form.precio.label.text }}
                    </label>
                    {{ form.precio(class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-xprin") }}
                    {% for error in form.precio.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                    {% endfor %}
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                        {{ form.stock.label.text }}
                    </label>
                    {{ form.stock(class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-xprin") }}
                    {% for error in form.stock.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Activo -->
            <div class="mb-6">
                <label class="flex items-center">
                    {{ form.activo(class="mr-2") }}
                    <span class="text-gray-700">{{ form.activo.label.text }}</span>
                </label>
            </div>
            
            <!-- Botones -->
            <div class="flex justify-between">
                <a href="{{ url_for('catalogo') }}" class="bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600 transition">
                    <i class="fas fa-arrow-left mr-1"></i> Cancelar
                </a>
                <button type="submit" class="bg-xprin text-white px-6 py-2 rounded hover:bg-xprin-dark transition">
                    <i class="fas fa-save mr-1"></i> Actualizar Producto
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}